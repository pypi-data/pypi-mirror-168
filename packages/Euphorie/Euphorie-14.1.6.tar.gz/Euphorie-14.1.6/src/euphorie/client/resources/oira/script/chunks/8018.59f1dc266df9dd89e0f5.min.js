"use strict";(self.webpackChunkoira_prototype=self.webpackChunkoira_prototype||[]).push([[8018,7236],{98018:function(t,e,n){n.r(e),n.d(e,{init:function(){return c}});var o=n(37236),r=n(74715),i=n(52896);let a;function c({app:t,button:e}){e.addEventListener("pat-modal-ready",(()=>function({app:t}){const e=document.querySelector(t.options.sourcePanel);if(!e)return void r.ZP.warn("No source panel found.");(0,o.focus_handler)(e);const n=()=>{const n=e.querySelector("[name=tiptap-source]"),o=e.querySelector(".tiptap-confirm, [name=tiptap-confirm]");n.value=t.editor.getHTML(),n.dispatchEvent(new Event("input"));const r=e=>{const o=t.editor.chain();!0===e&&o.focus(),o.setContent(n.value,!0),o.run()};o?i.Z.add_event_listener(o,"click","tiptap_source_confirm",(()=>r(!0))):i.Z.add_event_listener(n,"input","tiptap_source_text",r)};n(),a&&a.disconnect(),a=new MutationObserver(n),a.observe(e,{childList:!0,subtree:!0,attributes:!1,characterData:!1})}({app:t})))}},37236:function(t,e,n){n.r(e),n.d(e,{TARGETS:function(){return i},focus_handler:function(){return a}});var o=n(52896),r=n(19513);const i=[];function a(t){t.setAttribute("tabindex","-1"),o.Z.add_event_listener(t,"focus","tiptap-focusin",(async()=>{r.Z.timeout(1),i.map((t=>t?.classList.add("tiptap-focus")))}),!0),o.Z.add_event_listener(t,"blur","tiptap-focusout",(()=>{i.map((t=>t?.classList.remove("tiptap-focus")))}),!0)}}}]);
//# sourceMappingURL=8018.59f1dc266df9dd89e0f5.min.js.map