"use strict";(self.webpackChunksmartautomatic_server_frontend=self.webpackChunksmartautomatic_server_frontend||[]).push([[49686],{55422:(e,t,a)=>{a.a(e,(async e=>{a.d(t,{jV:()=>u,sS:()=>m,Yc:()=>h,tf:()=>p,o1:()=>g,hb:()=>f,ri:()=>w,MY:()=>v});var n=a(49706),r=a(58831),i=a(29171),s=a(22311),o=a(56007),c=e([i]);i=(c.then?await c:c)[0];const l="ui.components.logbook.messages",u=["counter","proximity","sensor","zone"],d={"numeric state of":"triggered_by_numeric_state_of","state of":"triggered_by_state_of",event:"triggered_by_event",time:"triggered_by_time","time pattern":"triggered_by_time_pattern","SmartAutomatic stopping":"triggered_by_smartautomatic_stopping","SmartAutomatic starting":"triggered_by_smartautomatic_starting"},_={},m=async(e,t,a)=>(await e.loadBackendTranslation("device_class"),b(e,t,void 0,void 0,a)),b=(e,t,a,n,r,i)=>{if((n||i)&&(!n||0===n.length)&&(!i||0===i.length))return Promise.resolve([]);const s={type:"logbook/get_events",start_time:t};return a&&(s.end_time=a),null!=n&&n.length&&(s.entity_ids=n),null!=i&&i.length&&(s.device_ids=i),r&&(s.context_id=r),e.callWS(s)},h=(e,t,a,n,r,i)=>{if((r||i)&&(!r||0===r.length)&&(!i||0===i.length))return Promise.reject("No entities or devices");const s={type:"logbook/event_stream",start_time:a,end_time:n};return null!=r&&r.length&&(s.entity_ids=r),null!=i&&i.length&&(s.device_ids=i),e.connection.subscribeMessage((e=>t(e)),s)},p=(e,t)=>{_[`${e}${t}`]={}},g=(e,t)=>({entity_id:e.entity_id,state:t,attributes:{device_class:null==e?void 0:e.attributes.device_class,source_type:null==e?void 0:e.attributes.source_type,has_date:null==e?void 0:e.attributes.has_date,has_time:null==e?void 0:e.attributes.has_time,entity_picture_local:n.iY.has((0,r.M)(e.entity_id))||null==e?void 0:e.attributes.entity_picture_local,entity_picture:n.iY.has((0,r.M)(e.entity_id))||null==e?void 0:e.attributes.entity_picture}}),f=(e,t)=>{for(const a in d)if(t.startsWith(a))return t.replace(a,`${e(`ui.components.logbook.${d[a]}`)}`);return t},w=(e,t,a,r,s)=>{switch(s){case"device_tracker":case"person":return"not_home"===a?t(`${l}.was_away`):"home"===a?t(`${l}.was_at_home`):t(`${l}.was_at_state`,"state",a);case"sun":return t("above_horizon"===a?`${l}.rose`:`${l}.set`);case"binary_sensor":{const e=a===n.uo,i=a===n.lC,s=r.attributes.device_class;switch(s){case"battery":if(e)return t(`${l}.was_low`);if(i)return t(`${l}.was_normal`);break;case"connectivity":if(e)return t(`${l}.was_connected`);if(i)return t(`${l}.was_disconnected`);break;case"door":case"garage_door":case"opening":case"window":if(e)return t(`${l}.was_opened`);if(i)return t(`${l}.was_closed`);break;case"lock":if(e)return t(`${l}.was_unlocked`);if(i)return t(`${l}.was_locked`);break;case"plug":if(e)return t(`${l}.was_plugged_in`);if(i)return t(`${l}.was_unplugged`);break;case"presence":if(e)return t(`${l}.was_at_home`);if(i)return t(`${l}.was_away`);break;case"safety":if(e)return t(`${l}.was_unsafe`);if(i)return t(`${l}.was_safe`);break;case"cold":case"gas":case"heat":case"moisture":case"motion":case"occupancy":case"power":case"problem":case"smoke":case"sound":case"vibration":if(e)return t(`${l}.detected_device_class`,{device_class:t(`component.binary_sensor.device_class.${s}`)});if(i)return t(`${l}.cleared_device_class`,{device_class:t(`component.binary_sensor.device_class.${s}`)});break;case"tamper":if(e)return t(`${l}.detected_tampering`);if(i)return t(`${l}.cleared_tampering`)}break}case"cover":switch(a){case"open":return t(`${l}.was_opened`);case"opening":return t(`${l}.is_opening`);case"closing":return t(`${l}.is_closing`);case"closed":return t(`${l}.was_closed`)}break;case"lock":if("unlocked"===a)return t(`${l}.was_unlocked`);if("locked"===a)return t(`${l}.was_locked`)}return a===n.uo?t(`${l}.turned_on`):a===n.lC?t(`${l}.turned_off`):o.V_.includes(a)?t(`${l}.became_unavailable`):e.localize(`${l}.changed_to_state`,"state",r?(0,i.D)(t,r,e.locale,a):a)},v=e=>"sensor"!==(0,s.N)(e)||void 0===e.attributes.unit_of_measurement&&void 0===e.attributes.state_class}))},79339:(e,t,a)=>{a.a(e,(async e=>{a.d(t,{kh:()=>o,oA:()=>c,z9:()=>l,l:()=>u,tm:()=>d,PG:()=>m,Fb:()=>b});var n=a(7323),r=a(58831),i=a(55422),s=e([i]);i=(s.then?await s:s)[0];const o=["camera","configurator"],c=["scene","automation"],l=["script"],u=["alarm_control_panel","automation","camera","climate","configurator","counter","cover","fan","group","humidifier","input_datetime","light","lock","media_player","person","remote","script","scene","sun","timer","update","vacuum","water_heater","weather"],d=["input_number","input_select","input_text","number","scene","update","select"],_=["camera","configurator"],m=(e,t)=>(0,n.p)(e,"history")&&!_.includes((0,r.M)(t)),b=(e,t)=>{if(!(0,n.p)(e,"logbook"))return!1;const a=e.states[t];if(!a||a.attributes.unit_of_measurement)return!1;const s=(0,r.M)(t);return!i.jV.includes(s)&&!_.includes(s)}}))},82791:(e,t,a)=>{a.a(e,(async e=>{a.d(t,{S:()=>o,n3:()=>c,ST:()=>l});var n=a(79339),r=a(22311),i=e([n]);n=(i.then?await i:i)[0];const s={alarm_control_panel:()=>Promise.all([a.e(29563),a.e(98985),a.e(79116)]).then(a.bind(a,79116)),automation:()=>a.e(35513).then(a.bind(a,35513)),camera:()=>a.e(14920).then(a.bind(a,14920)),climate:()=>Promise.all([a.e(29563),a.e(88278),a.e(9823)]).then(a.bind(a,9823)),configurator:()=>Promise.all([a.e(29563),a.e(98985),a.e(4940),a.e(8793)]).then(a.bind(a,70375)),counter:()=>a.e(6850).then(a.bind(a,6850)),cover:()=>Promise.all([a.e(46583),a.e(97148)]).then(a.bind(a,97148)),fan:()=>Promise.all([a.e(29563),a.e(88278),a.e(46583),a.e(69626)]).then(a.bind(a,69626)),group:()=>Promise.all([a.e(29563),a.e(98985),a.e(88278),a.e(89313),a.e(14277),a.e(39902)]).then(a.bind(a,39902)),humidifier:()=>Promise.all([a.e(29563),a.e(88278),a.e(35317)]).then(a.bind(a,35317)),input_datetime:()=>Promise.all([a.e(29563),a.e(98985),a.e(88278),a.e(12545),a.e(1506)]).then(a.bind(a,56127)),light:()=>Promise.all([a.e(29563),a.e(88278),a.e(46583),a.e(29598)]).then(a.bind(a,29598)),lock:()=>Promise.all([a.e(29563),a.e(98985),a.e(46583),a.e(50534)]).then(a.bind(a,50534)),media_player:()=>Promise.all([a.e(29563),a.e(88278),a.e(46684)]).then(a.bind(a,46684)),person:()=>Promise.all([a.e(46583),a.e(23956),a.e(95993)]).then(a.bind(a,95993)),remote:()=>Promise.all([a.e(46583),a.e(6514)]).then(a.bind(a,6514)),script:()=>a.e(71593).then(a.bind(a,71593)),sun:()=>a.e(66369).then(a.bind(a,66369)),timer:()=>Promise.all([a.e(46583),a.e(69491)]).then(a.bind(a,69491)),update:()=>Promise.all([a.e(41985),a.e(46504),a.e(4940),a.e(27894)]).then(a.bind(a,27894)),vacuum:()=>Promise.all([a.e(29563),a.e(88278),a.e(46583),a.e(17184)]).then(a.bind(a,17184)),water_heater:()=>Promise.all([a.e(29563),a.e(88278),a.e(52994)]).then(a.bind(a,52994)),weather:()=>a.e(8914).then(a.bind(a,8914))},o=e=>{const t=(0,r.N)(e);return c(t)},c=e=>n.l.includes(e)?e:n.tm.includes(e)?"hidden":"default",l=e=>{e in s&&s[e]()}}))},83320:(e,t,a)=>{a.a(e,(async e=>{a.d(t,{w:()=>l});var n=a(7355),r=(a(26602),a(93479),a(51432),a(73089)),i=(a(8864),a(17875)),s=a(7778),o=e([i,r,n]);[i,r,n]=o.then?await o:o;const c=new Set(["conditional","icon","image","service-button","state-badge","state-icon","state-label"]),l=e=>(0,s.Tw)("element",e,c)}))},49686:(e,t,a)=>{a.a(e,(async e=>{a.r(t),a.d(t,{importMoreInfoControl:()=>n.ST,createBadgeElement:()=>r.J,createCardElement:()=>i.Z6,createHeaderFooterElement:()=>s.t,createHuiElement:()=>o.w,createRowElement:()=>c.m});var n=a(82791),r=a(73953),i=a(51153),s=a(89026),o=a(83320),c=a(37482),l=e([c,o,i,r,n]);[c,o,i,r,n]=l.then?await l:l}))}}]);