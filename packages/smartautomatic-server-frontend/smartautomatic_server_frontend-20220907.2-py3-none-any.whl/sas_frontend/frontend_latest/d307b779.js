"use strict";(self.webpackChunksmartautomatic_server_frontend=self.webpackChunksmartautomatic_server_frontend||[]).push([[66054],{66054:(e,r,a)=>{a.a(e,(async e=>{a.r(r),a.d(r,{EnergyStrategy:()=>n});var t=a(55424),s=e([t]);t=(s.then?await s:s)[0];class n{static async generateView(e){const r=e.hass,s={cards:[]};let n;try{n=await(0,t.ZC)(r)}catch(e){return"not_found"===e.code?(async()=>(await Promise.all([a.e(878),a.e(55158)]).then(a.bind(a,55158)),{type:"panel",cards:[{type:"custom:energy-setup-wizard-card"}]}))():(s.cards.push({type:"markdown",content:`An error occurred while fetching your energy preferences: ${e.message}.`}),s)}s.type="sidebar";const o=n.energy_sources.find((e=>"grid"===e.type)),c=o&&o.flow_to.length,i=n.energy_sources.some((e=>"solar"===e.type)),y=n.energy_sources.some((e=>"gas"===e.type));return e.narrow&&s.cards.push({type:"energy-date-selection",collection_key:"energy_dashboard",view_layout:{position:"sidebar"}}),s.cards.push({type:"energy-compare",collection_key:"energy_dashboard"}),o&&s.cards.push({title:r.localize("ui.panel.energy.cards.energy_usage_graph_title"),type:"energy-usage-graph",collection_key:"energy_dashboard"}),i&&s.cards.push({title:r.localize("ui.panel.energy.cards.energy_solar_graph_title"),type:"energy-solar-graph",collection_key:"energy_dashboard"}),y&&s.cards.push({title:r.localize("ui.panel.energy.cards.energy_gas_graph_title"),type:"energy-gas-graph",collection_key:"energy_dashboard"}),o&&s.cards.push({title:r.localize("ui.panel.energy.cards.energy_distribution_title"),type:"energy-distribution",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"}),(o||i)&&s.cards.push({title:r.localize("ui.panel.energy.cards.energy_sources_table_title"),type:"energy-sources-table",collection_key:"energy_dashboard"}),c&&s.cards.push({type:"energy-grid-neutrality-gauge",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"}),i&&c&&s.cards.push({type:"energy-solar-consumed-gauge",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"}),o&&s.cards.push({type:"energy-carbon-consumed-gauge",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"}),n.device_consumption.length&&s.cards.push({title:r.localize("ui.panel.energy.cards.energy_devices_graph_title"),type:"energy-devices-graph",collection_key:"energy_dashboard"}),s}}}))}}]);