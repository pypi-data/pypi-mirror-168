"use strict";(self.webpackChunk_composable_jupyterlabs_sql_codemirror=self.webpackChunk_composable_jupyterlabs_sql_codemirror||[]).push([[568],{568:(e,t,o)=>{o.r(t),o.d(t,{default:()=>c});var r=o(931),i=o(588),s=o(471);class l{constructor(e,t,o){this.app=e,this.tracker=t,this.code_mirror=o,this.tracker.activeCellChanged.connect((()=>{var e,t;if("code"===(null===(t=null===(e=this.tracker.activeCell)||void 0===e?void 0:e.model)||void 0===t?void 0:t.type)){const e=this.tracker.activeCell.editor,t=s.debounce((()=>{var t;const o=null===(t=e.getLine(e.firstLine()))||void 0===t?void 0:t.trim(),r=null==o?void 0:o.startsWith("%%sql");r&&"text/x-sql"!==e.editor.getOption("mode")?e.editor.setOption("mode","text/x-sql"):r||"text/x-sql"!==e.editor.getOption("mode")||e.editor.setOption("mode","text/ipython")}),300);e.editor.on("change",t),t()}}))}}const c={id:"@composable/jupyterlabs-sql-codemirror",autoStart:!0,requires:[r.INotebookTracker,i.ICodeMirror],optional:[],activate:function(e,t,o){new l(e,t,o),console.log("SQLCodeMirror loaded.")}}}}]);