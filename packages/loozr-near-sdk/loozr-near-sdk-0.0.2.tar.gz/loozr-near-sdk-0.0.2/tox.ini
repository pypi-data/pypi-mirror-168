# tox (https://tox.readthedocs.io/) is a tool for running tests
# in multiple virtualenvs. This configuration file will run the
# test suite on all supported python versions. To use it, "pip install tox"
# and then run "tox" from this directory.

[tox]
envlist = pyt310, flake8, lint
isolated_build = True

[testenv:lint]
deps = pre-commit
commands = pre-commit run --all-files

[testenv]
changedir = tests
setenv =
    RPC_NODE=https://rpc.testnet.near.org
    MIXER_SECRET_KEY=ed25519:3HJyeqUhDxifqFD5Nky94SEpzxMy6XpwF6mLtXaGW4PyuSYbkRw3uYc9JBiGARUN5MoifmBX3oivCRYA3BXZABPf
    MIXER_ACCOUNT_ID=lzr.testnet
    LZR_FACTORY_MIXER_ACCOUNT_ID=cct2.testnet
    LZR_FACTORY_MIXER_SECRET_KEY=ed25519:jwEw2DcEtabNpgexU1iUZ4BxnAQuQCtJ9yVnJXXmw8UvyMiaTDi9JStSE1m7PzDP5ne8YRfVrnMF9yBkLp3ZNgY
commands = discover
deps = discover

[gh-actions]
python = 
    3.10: pyt310, lint