{"version":3,"file":"lib_index_js.559f44206b73afdc4814.js","mappings":";;;;;;;;;;;;;;;;;;;;;;AAA0B;AAC4B;AACC;AACd;AACC;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,QAAQ;AACpB;AACA,IAAI,kFAAgC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,gDAAM;AAC1C,+BAA+B,gDAAM;AACrC;AACA;AACA;AACA;AACA;AACA,YAAY,iDAAU,0BAA0B,kBAAkB,UAAU,MAAM;AAClF;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,gEAAc;AAC1C,+BAA+B,mDAAM;AACrC;AACA;AACA,gCAAgC,cAAc;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAe,SAAS,EAAC","sources":["webpack://ipynb-creative/./lib/index.js"],"sourcesContent":["import axios from 'axios';\nimport { MainAreaWidget } from '@jupyterlab/apputils';\nimport { NotebookActions } from \"@jupyterlab/notebook\";\nimport { Widget } from '@lumino/widgets';\nimport config from './config/config.json';\nconst API_URL = 'http://localhost:8111/recommend/';\nconst extension = {\n    id: 'creative',\n    autoStart: true,\n    optional: [],\n    requires: [],\n    activate,\n};\nfunction activate(app) {\n    const { shell } = app;\n    // Call function after finish executing cell\n    NotebookActions.executed.connect((_, action) => {\n        console.log(\"action: \", action);\n        if (action.success) {\n            console.log(\"action.success\", action.success);\n        }\n        else {\n            console.log(\"action.success\", action.success);\n            console.log(\"action.error\", action.error);\n            let headers = {\n                \"accept\": \"application/json\",\n                \"Content-Type\": \"application/json\"\n            };\n            console.log(\"config: \", config);\n            let request_data = config;\n            request_data['code_text'] = 'string';\n            request_data['output_text'] = '';\n            request_data['error_text'] = String(action.error);\n            console.log(\"request_data: \", request_data);\n            // Post data\n            axios.post(API_URL, request_data, { headers: headers }).then(({ data }) => {\n                console.log(\"data: \", data);\n                // const img_first = data[1].img_base64;\n                // const img_second = data[2].img_base64;\n                // const img_third = data[3].img_base64;\n                const widget = createWidget(data);\n                console.log('widget: ', widget);\n            });\n        }\n    });\n    function createWidget(data) {\n        var _a, _b, _c, _d;\n        let url_first = data.result[0].url;\n        let img_first = data.result[0].img_base64;\n        let url_second = data.result[1].url;\n        let img_second = data.result[1].img_base64;\n        let url_third = data.result[2].url;\n        let img_third = data.result[2].img_base64;\n        // let img_first: BinaryType = data[0].img_base64\n        // let url_second: string = data[1].url\n        // let img_second: BinaryType = data[1].img_base64\n        // let url_third: string = data[2].url\n        // let img_third: BinaryType = data[2].img_base64\n        //\n        let img_tag_first = document.createElement('img');\n        img_tag_first.src = \"data:image/gif;base64,\" + img_first;\n        img_tag_first.style.width = \"100%\";\n        // img_tag_first.style.height = \"10vh\"\n        // set elems\n        let a_tag_first = document.createElement('a');\n        a_tag_first.href = url_first;\n        a_tag_first.rel = \"noopener\";\n        a_tag_first.target = \"_blank\";\n        // set styles\n        a_tag_first.style.width = \"32%\";\n        a_tag_first.style.height = \"fit-content\";\n        a_tag_first.style.color = \"white\";\n        a_tag_first.style.fontFamily = \"JetBrains Mono\";\n        let img_tag_second = document.createElement('img');\n        img_tag_second.src = \"data:image/gif;base64,\" + img_second;\n        img_tag_second.style.width = \"100%\";\n        // img_tag_second.style.height = \"10vh\"\n        let a_tag_second = document.createElement('a');\n        a_tag_second.href = url_second;\n        a_tag_second.rel = \"noopener\";\n        a_tag_second.target = \"_blank\";\n        // set styles\n        a_tag_second.style.width = \"32%\";\n        a_tag_second.style.height = \"fit-content\";\n        a_tag_second.style.color = \"white\";\n        a_tag_second.style.fontFamily = \"JetBrains Mono\";\n        let img_tag_third = document.createElement('img');\n        img_tag_third.src = \"data:image/gif;base64,\" + img_third;\n        img_tag_third.style.width = \"100%\";\n        // img_tag_third.style.height = \"10vh\"\n        let a_tag_third = document.createElement('a');\n        a_tag_third.href = url_third;\n        a_tag_third.rel = \"noopener\";\n        a_tag_third.target = \"_blank\";\n        // set styles\n        a_tag_third.style.width = \"32%\";\n        a_tag_third.style.height = \"fit-content\";\n        a_tag_third.style.color = \"white\";\n        a_tag_third.style.fontFamily = \"JetBrains Mono\";\n        const main = shell.currentWidget;\n        if (main instanceof MainAreaWidget) {\n            const widget = new Widget();\n            if (main.contentHeader.node.hasChildNodes()) {\n                const childNum = main.contentHeader.node.childElementCount;\n                for (var i = 0; i < childNum; i++) {\n                    console.log(i);\n                    (_a = main.contentHeader.node.firstChild) === null || _a === void 0 ? void 0 : _a.remove();\n                }\n            }\n            // background-color\n            // Set color\n            main.contentHeader.node.style.backgroundColor = \"rgb(102, 102, 102)\";\n            main.contentHeader.node.style.color = \"white\";\n            // Set size\n            main.contentHeader.node.style.width = \"fit-content\";\n            main.contentHeader.node.style.height = \"fit-content\";\n            // Set position\n            main.contentHeader.node.style.zIndex = \"10\";\n            main.contentHeader.node.style.position = \"absolute\";\n            main.contentHeader.node.style.removeProperty(\"top\");\n            main.contentHeader.node.style.bottom = \"0px\";\n            main.contentHeader.node.style.left = \"0px\";\n            main.contentHeader.node.style.paddingTop = \"5px\";\n            main.contentHeader.node.style.paddingLeft = \"87px\";\n            main.contentHeader.node.style.paddingRight = \"15px\";\n            main.contentHeader.node.style.display = \"flex\";\n            main.contentHeader.node.style.justifyContent = \"space-between\";\n            main.contentHeader.node.style.alignItems = \"center\";\n            main.contentHeader.node.appendChild(a_tag_first);\n            (_b = main.contentHeader.node.firstChild) === null || _b === void 0 ? void 0 : _b.appendChild(img_tag_first);\n            main.contentHeader.node.appendChild(a_tag_second);\n            // main.contentHeader.node.firstChild?.appendChild(img_tag_second)\n            (_c = main.contentHeader.node.lastChild) === null || _c === void 0 ? void 0 : _c.appendChild(img_tag_second);\n            main.contentHeader.node.appendChild(a_tag_third);\n            (_d = main.contentHeader.node.lastChild) === null || _d === void 0 ? void 0 : _d.appendChild(img_tag_third);\n            main.contentHeader.node.click();\n            return widget;\n        }\n        else {\n            console.log('no contentheader');\n        }\n    }\n}\nexport default extension;\n"],"names":[],"sourceRoot":""}