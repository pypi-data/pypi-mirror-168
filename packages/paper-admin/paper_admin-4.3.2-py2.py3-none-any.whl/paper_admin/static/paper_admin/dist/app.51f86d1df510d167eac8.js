(self.webpackChunkpaper_admin=self.webpackChunkpaper_admin||[]).push([[2143],{5869:function(){const e=parseFloat(getComputedStyle(document.documentElement).fontSize),t=function(){const t=document.querySelector(".paper-header"),s=document.querySelectorAll(".paper-toolbar.sticky-top");t&&s.length&&s.forEach((s=>{s.style.top=t.offsetHeight+e+"px"}))};window.addEventListener("resize",t),t()},8190:function(){document.addEventListener("click",(e=>{if(e.target.closest(".back-button")){e.preventDefault();new URLSearchParams(window.location.search).has("_popup")?window.close():window.history.back()}}))},1976:function(e,t,s){"use strict";s.d(t,{Gn:function(){return n.Z},fK:function(){return o}});var n=s(8527);s(7908);const o={az:"d.m.Y",bn:"d/m/Y",ca:"d/m/Y",cs:"d.m.Y",cy:"d/m/Y",da:"d.m.Y",de:"d.m.Y",el:"d/m/Y",en_au:"d/m/Y",en_gb:"d/m/Y",es:"d/m/Y",fi:"d.m.Y",fr:"d/m/Y",hu:"Y.m.d.",id:"d-m-y",it:"d/m/Y",mk:"d.m.Y",nl:"d-m-Y",pl:"d.m.Y",pt_br:"d/m/Y",ro:"d.m.Y",ru:"d.m.Y",sk:"d.m.Y",sl:"d.m.Y",sr:"d.m.Y",th:"d/m/Y",tr:"d/m/Y",uk:"d.m.Y",zh_hans:"Y/m/d",zh_hant:"Y/m/d"}},4027:function(e,t,s){"use strict";s.d(t,{C:function(){return o}});var n=s(5932);s(454),s(2816);class o extends n.Z{constructor(e){super(),this.opts=Object.assign({},e)}_init(e){const t=Object.assign({},this.opts);if(t.allowClear&&void 0===t.placeholder){const s=e.querySelector('option[value=""]');t.placeholder=s?s.textContent:""}$(e).select2(t),$(e).on("select2:select select2:clear",(()=>{const t=new CustomEvent("change",{bubbles:!0,cancelable:!0});e.dispatchEvent(t)})),$(e).on("select2:open",(function(){const e=$(this).data("select2").$dropdown.get(0).querySelector(".select2-search__field");e&&e.focus()}))}_destroy(e){$(e).select2("destroy")}}},2816:function(){$.fn.select2.amd.require(["select2/core"],(function(e){const t=e.prototype.render;e.prototype.render=function(){const e=this,s=t.apply(this,arguments),n=this.options.get("containerCssClass");return n&&n.split(/\s+/).map((t=>{t&&e.$container[0].classList.add(t)})),s}}),null,!0),$.fn.select2.amd.require(["select2/results"],(function(e){const t=e.prototype.showLoading,s=e.prototype.hideLoading;e.prototype.hideMessages=function(){},e.prototype.hideLoading=function(){s.apply(this,arguments);const e=this.$results.find(".select2-results__option");e.each(((e,t)=>{"1"===t.dataset._stateSelectable&&t.classList.add("select2-results__option--selectable");"1"===t.dataset._stateDisabled||(t.classList.remove("select2-results__option--disabled"),t.removeAttribute("aria-disabled"))}))},e.prototype.showLoading=function(){this.hideLoading();const e=this.$results.find(".select2-results__option");e.length?e.each(((e,t)=>{const s=t.classList.contains("select2-results__option--selectable"),n=t.classList.contains("select2-results__option--disabled");t.dataset._stateSelectable=s?"1":"0",t.dataset._stateDisabled=n?"1":"0",t.classList.remove("select2-results__option--selectable"),t.classList.add("select2-results__option--disabled"),t.setAttribute("aria-disabled",!0)})):t.apply(this,arguments)}}),null,!0),$.fn.select2.amd.require(["select2/core"],(function(e){const t=e.prototype._registerEvents;e.prototype._registerEvents=function(){const e=this;t.apply(this,arguments),this.listeners.query.pop(),this.on("query",(t=>{e.isOpen()||e.trigger("open",{}),this.dataAdapter.query(t,(s=>{e.trigger("results:all",{data:s,query:t,searching:!0})}))}))}}),null,!0),$.fn.select2.amd.require(["select2/results"],(function(e){const t=e.prototype.bind;e.prototype.bind=function(e,s){const n=this;t.apply(this,arguments),e.listeners["results:all"].pop(),e.on("results:all",(function(t){if(n.clear(),n.append(t.data),e.isOpen())if(n.setClasses(),t.searching){this.$results.find(".select2-results__option--selectable").first().trigger("mouseenter")}else n.highlightFirstItem()}))}}),null,!0),$.fn.select2.amd.require(["select2/selection/search"],(function(e){const t=e.prototype.searchRemoveChoice;e.prototype.searchRemoveChoice=function(){t.apply(this,arguments),this.options.get("tags")||this.$search.val("")}}),null,!0),$.fn.select2.amd.require(["select2/selection/allowClear"],(function(e){const t=e.prototype._handleClear;e.prototype._handleClear=function(e,s){"mousedown"===s.type&&0!==s.button||t.apply(this,arguments)}}),null,!0),$.fn.select2.amd.require(["select2/selection/allowClear"],(function(e){const t=e.prototype._handleClear;e.prototype._handleClear=function(e,s){const n=this.trigger;this.trigger=function(e,t){"toggle"!==e&&n.call(this,e,t)},t.apply(this,arguments),this.trigger=n}}),null,!0),$.fn.select2.amd.require(["select2/data/ajax"],(function(e){const t=e.prototype.query,s={size:10};function n(e){let t=null,s=null;Object.entries(e).forEach((([e,n])=>{(null===s||n.timestamp<s)&&(t=e,s=n.timestamp)})),null!==t&&delete e[t]}e.prototype.query=function(e,o){const i=this;let r=this.options.get("ajaxCache");if("object"==typeof r&&null!==r)r=$.extend({},s,r);else{if(!r)return void t.apply(this,arguments);r=s}void 0===this.__cache&&(this.__cache={});const a=(e.term||"_ALL_")+":"+(e.page||-1).toString();if(void 0!==this.__cache[a]){const e=this.__cache[a];e.timestamp=Date.now(),o(e.data)}else t.call(this,e,(e=>{Object.keys(i.__cache).length>=r.size&&n(i.__cache),i.__cache[a]={data:e,timestamp:Date.now()},o(e)}))}}),null,!0)},1168:function(e,t,s){"use strict";s.r(t),s.d(t,{paperAdmin:function(){return Le}});var n=s(3734),o=s(1474),i=s(2209);function r(e){let t=[];for(let s=0;s<e.dataTransfer.files.length;s++)t[s]=e.dataTransfer.files[s];return t}function a(e,t){const s=e.createReader(),n=e=>__guardMethod__(console,"log",(t=>t.log(e)));return new Promise((e=>{const o=[],i=()=>{s.readEntries((s=>{s.length>0?(o.push(Promise.all(s.map((e=>e.isFile?new Promise((s=>{e.file((e=>{"."!==e.name.substring(0,1)&&(e.fullPath=`${t}/${e.name}`,s([e]))}))})):e.isDirectory?a(e,`${t}/${e.name}`):void 0))).then((e=>e.reduce(((e,t)=>e.concat(t)),[])))),i()):e(Promise.all(o).then((e=>e.reduce(((e,t)=>e.concat(t)),[]))))}),n)};i()}))}var l={containsFiles:function(e){if(e.dataTransfer&&e.dataTransfer.types)for(let t=0;t<e.dataTransfer.types.length;t++)if("Files"===e.dataTransfer.types[t])return!0;return!1},filterFiles:r,parseDroppedFiles:function(e){return new Promise((t=>{let s=r(e);if(s.length){let{items:n}=e.dataTransfer;n&&n.length&&null!=n[0].webkitGetAsEntry?function(e){return new Promise((t=>{const s=[],n=[];for(let t of e){let e;null!=t.webkitGetAsEntry&&(e=t.webkitGetAsEntry())?e.isFile?s.push(t.getAsFile()):e.isDirectory&&n.push(a(e,e.name)):null!=t.getAsFile&&(null!=t.kind&&"file"!==t.kind||s.push(t.getAsFile()))}Promise.all(n).then((e=>{for(let t of e)s.push(...t);t(s)}))}))}(n).then((e=>{t(e)})):t(s)}}))}},d=s(4827);let c=0;const u=[];window.dismissChildPopups=function(){u.forEach((e=>{e.closed||(e.dismissChildPopups(),e.close())}))},window.addEventListener("unload",(()=>{window.dismissChildPopups()})),function(){if(document.getElementsByName("_popup").length>0){const e=window.name.lastIndexOf("__")+2;c=parseInt(window.name.substring(e))}else c=0}();var p={showAdminPopup:function(e,t,s){const n=function(e){return e+"__"+(c+1)}(e.id.replace(t,"")),o=new URL(e.href);s&&o.searchParams.set("_popup","1");const i=void 0!==window.screenX?window.screenX:window.screenLeft,r=void 0!==window.screenY?window.screenY:window.screenTop,a=void 0!==window.outerWidth?window.outerWidth:document.body.clientWidth,l=void 0!==window.outerHeight?window.outerHeight:document.body.clientHeight,d=Math.max(940,.7*a),p=Math.max(600,.7*l),h=r+Math.round((l-p)/2),m=i+Math.round((a-d)/2),f=window.open(o.toString(),n,"width="+d+",height="+p+",top="+h+",left="+m+",resizable=yes,scrollbars=yes");u.push(f),f.focus()},removeRelatedWindow:function(e){const t=u.indexOf(e);t>-1&&u.splice(t,1)},removePopupIndex:function(e){return e=e.replace(new RegExp("__"+(c+1)+"$"),"")}},h=s(5932);class m extends h.Z{constructor(e){super(),this.opts=Object.assign({},e)}_init(e){$(e).dropdown(this.opts)}}class f extends h.Z{constructor(e){super(),this.opts=Object.assign({},e)}_init(e){$(e).popover(this.opts)}_destroy(e){$(e).popover("hide")}}class g extends h.Z{constructor(e){super(),this.opts=Object.assign({},e)}_init(e){$(e).tooltip(this.opts).filter('[data-trigger="hover"]').on("click",(function(){$(this).tooltip("hide")}))}_destroy(e){$(e).tooltip("hide")}}class _ extends h.Z{constructor(e){super(),this.opts=Object.assign({},e)}_init(e){$(e).collapse(this.opts)}}const v=new m;v.observe(".dropdown-toggle"),v.initAll(".dropdown-toggle");const w=new f({delay:{show:600,hide:100}});w.observe('[data-toggle="popover"]'),w.initAll('[data-toggle="popover"]');const y=new _({toggle:!1});y.observe(".collapse"),y.initAll(".collapse");const b=new g({delay:{show:600,hide:100}});b.observe('[data-toggle="tooltip"]'),b.initAll('[data-toggle="tooltip"]');const E="on-drag-file";let L=0;document.addEventListener("dragenter",(e=>{L++,l.containsFiles(e)&&(e.preventDefault(),document.documentElement.classList.add(E))}),!0),document.addEventListener("dragleave",(()=>{0==--L&&document.documentElement.classList.remove(E)}),!0),document.addEventListener("drop",(()=>{L=0,document.documentElement.classList.remove(E)}),!0);s(8190);var C=s(1976),S=s(648),k=s.n(S);const A=[{"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ő":"O","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ű":"U","Ý":"Y","Þ":"TH","Ÿ":"Y","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ő":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"u","ű":"u","ý":"y","þ":"th","ÿ":"y"},{"©":"(c)"},{"α":"a","β":"b","γ":"g","δ":"d","ε":"e","ζ":"z","η":"h","θ":"8","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"3","ο":"o","π":"p","ρ":"r","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"w","ά":"a","έ":"e","ί":"i","ό":"o","ύ":"y","ή":"h","ώ":"w","ς":"s","ϊ":"i","ΰ":"y","ϋ":"y","ΐ":"i","Α":"A","Β":"B","Γ":"G","Δ":"D","Ε":"E","Ζ":"Z","Η":"H","Θ":"8","Ι":"I","Κ":"K","Λ":"L","Μ":"M","Ν":"N","Ξ":"3","Ο":"O","Π":"P","Ρ":"R","Σ":"S","Τ":"T","Υ":"Y","Φ":"F","Χ":"X","Ψ":"PS","Ω":"W","Ά":"A","Έ":"E","Ί":"I","Ό":"O","Ύ":"Y","Ή":"H","Ώ":"W","Ϊ":"I","Ϋ":"Y"},{"ş":"s","Ş":"S","ı":"i","İ":"I","ç":"c","Ç":"C","ü":"u","Ü":"U","ö":"o","Ö":"O","ğ":"g","Ğ":"G"},{"ă":"a","î":"i","ș":"s","ț":"t","â":"a","Ă":"A","Î":"I","Ș":"S","Ț":"T","Â":"A"},{"а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ё":"yo","ж":"zh","з":"z","и":"i","й":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"c","ч":"ch","ш":"sh","щ":"sh","ъ":"","ы":"y","ь":"","э":"e","ю":"yu","я":"ya","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ё":"Yo","Ж":"Zh","З":"Z","И":"I","Й":"J","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"H","Ц":"C","Ч":"Ch","Ш":"Sh","Щ":"Sh","Ъ":"","Ы":"Y","Ь":"","Э":"E","Ю":"Yu","Я":"Ya"},{"Є":"Ye","І":"I","Ї":"Yi","Ґ":"G","є":"ye","і":"i","ї":"yi","ґ":"g"},{"č":"c","ď":"d","ě":"e","ň":"n","ř":"r","š":"s","ť":"t","ů":"u","ž":"z","Č":"C","Ď":"D","Ě":"E","Ň":"N","Ř":"R","Š":"S","Ť":"T","Ů":"U","Ž":"Z"},{"á":"a","ä":"a","č":"c","ď":"d","é":"e","í":"i","ľ":"l","ĺ":"l","ň":"n","ó":"o","ô":"o","ŕ":"r","š":"s","ť":"t","ú":"u","ý":"y","ž":"z","Á":"a","Ä":"A","Č":"C","Ď":"D","É":"E","Í":"I","Ľ":"L","Ĺ":"L","Ň":"N","Ó":"O","Ô":"O","Ŕ":"R","Š":"S","Ť":"T","Ú":"U","Ý":"Y","Ž":"Z"},{"ą":"a","ć":"c","ę":"e","ł":"l","ń":"n","ó":"o","ś":"s","ź":"z","ż":"z","Ą":"A","Ć":"C","Ę":"E","Ł":"L","Ń":"N","Ó":"O","Ś":"S","Ź":"Z","Ż":"Z"},{"ā":"a","č":"c","ē":"e","ģ":"g","ī":"i","ķ":"k","ļ":"l","ņ":"n","š":"s","ū":"u","ž":"z","Ā":"A","Č":"C","Ē":"E","Ģ":"G","Ī":"I","Ķ":"K","Ļ":"L","Ņ":"N","Š":"S","Ū":"U","Ž":"Z"},{"أ":"a","ب":"b","ت":"t","ث":"th","ج":"g","ح":"h","خ":"kh","د":"d","ذ":"th","ر":"r","ز":"z","س":"s","ش":"sh","ص":"s","ض":"d","ط":"t","ظ":"th","ع":"aa","غ":"gh","ف":"f","ق":"k","ك":"k","ل":"l","م":"m","ن":"n","ه":"h","و":"o","ي":"y"},{"ą":"a","č":"c","ę":"e","ė":"e","į":"i","š":"s","ų":"u","ū":"u","ž":"z","Ą":"A","Č":"C","Ę":"E","Ė":"E","Į":"I","Š":"S","Ų":"U","Ū":"U","Ž":"Z"},{"ђ":"dj","ј":"j","љ":"lj","њ":"nj","ћ":"c","џ":"dz","đ":"dj","Ђ":"Dj","Ј":"j","Љ":"Lj","Њ":"Nj","Ћ":"C","Џ":"Dz","Đ":"Dj"},{"ç":"c","ə":"e","ğ":"g","ı":"i","ö":"o","ş":"s","ü":"u","Ç":"C","Ə":"E","Ğ":"G","İ":"I","Ö":"O","Ş":"S","Ü":"U"},{"ა":"a","ბ":"b","გ":"g","დ":"d","ე":"e","ვ":"v","ზ":"z","თ":"t","ი":"i","კ":"k","ლ":"l","მ":"m","ნ":"n","ო":"o","პ":"p","ჟ":"j","რ":"r","ს":"s","ტ":"t","უ":"u","ფ":"f","ქ":"q","ღ":"g","ყ":"y","შ":"sh","ჩ":"ch","ც":"c","ძ":"dz","წ":"w","ჭ":"ch","ხ":"x","ჯ":"j","ჰ":"h"}],x={Initialize:function(){if(!x.map){x.map={},x.chars=[];for(let e=0;e<A.length;e++){const t=A[e];for(let e in t)t.hasOwnProperty(e)&&(x.map[e]=t[e])}for(let e in x.map)x.map.hasOwnProperty(e)&&x.chars.push(e);x.regex=new RegExp(x.chars.join("|"),"g")}}};function P(e,t,s){var n;s||(n=e,x.Initialize(),e=n.replace(x.regex,(e=>x.map[e])));if(!/[^\u0000-\u007f]/.test(e)){const t=new RegExp("\\b("+["a","an","as","at","before","but","by","for","from","is","in","into","like","of","off","on","onto","per","since","than","the","this","that","to","up","via","with"].join("|")+")\\b","gi");e=e.replace(t,"")}return(e=(e=(e=(e=(e=s?k().replace(e,k()("[^-_\\p{L}\\p{N}\\s]","g"),""):e.replace(/[^-\w\s]/g,"")).replace(/^\s+|\s+$/g,"")).replace(/[-\s]+/g,"-")).substring(0,t)).replace(/-+$/g,"")).toLowerCase()}function q(e=document.body){e.querySelectorAll(".prepopulated-field").forEach((e=>{let t;const s=e.closest(".paper-formset");if(s){const e=s.dataset.formsetPrefix;t=window.django_prepopulated_fields[e]}else t=window.django_prepopulated_fields[""];if(!t)return;const n=e.dataset.prepopulateFieldName,o=t[n];if(!o)return;const i=e.querySelector("[name$="+n+"]");if(!i)return;const r=o.dependencies.map((e=>{const t=i.name.replace(new RegExp(n+"$"),e);return document.querySelector("[name="+t+"]")})).filter(Boolean);if(!r.length)return;const a=function(){if("1"===i.dataset._changed)return;const e=r.map((e=>e.value)).filter(Boolean);i.value=P(e.join(" "),o.maxLength,o.allowUnicode)},l=()=>{i.value?i.dataset._changed="1":i.dataset._changed="0"};i.addEventListener("change",l),l(),r.forEach((e=>{e.addEventListener("keyup",a),e.addEventListener("change",a),e.addEventListener("focus",a)}))}))}function j(e){return p.showAdminPopup(e,/^lookup_/,!0)}q(),i.Z.inlines.on("added",((e,t)=>{q(e)})),document.addEventListener("click",(e=>{const t=e.target.closest(".related-lookup");if(t){e.preventDefault();const s=$.Event("django:lookup-related");$(t).trigger(s),s.isDefaultPrevented()||j(t)}const s=e.target.closest("a[data-popup-opener]");s&&(e.preventDefault(),opener.dismissRelatedLookupPopup(window,s.dataset.popupOpener))})),window.showRelatedObjectLookupPopup=j,window.dismissRelatedLookupPopup=function(e,t){const s=p.removePopupIndex(e.name),n=document.getElementById(s);n.classList.contains("vManyToManyRawIdAdminField")&&n.value?n.value+=","+t:n.value=t,p.removeRelatedWindow(e),e.close()};s(4027);document.addEventListener("change",(e=>{const t=e.target.closest(".clearable-file-field");if(t&&"file"===e.target.type){const s=e.target.value.split("\\").pop(),n=t.querySelector(".clearable-file-field__button span");n&&(n.textContent=s||n.dataset.initialText)}}));var T=s(6410);class O extends h.Z{constructor(e){super(),this.opts=Object.assign({altInput:!0,locale:this._getLocale(),dateFormat:this._getDateFormat()},e),document.addEventListener("click",(e=>{const t=e.target.closest(".date-field__button");if(t){const e=t.closest(".date-field"),s=e&&e.querySelector("input");s&&s._flatpickr&&s._flatpickr.setDate("today")}}))}_init(e){(0,C.Gn)(e,this.opts)}_destroy(e){e._flatpickr&&e._flatpickr.destroy()}_getLocale(){for(const e of(0,T.Z)())if(C.Gn.l10ns[e])return e;return"default"}_getDateFormat(){for(const e of(0,T.Z)())if(C.fK[e])return C.fK[e];return"Y-m-d"}}const Y=new O;function D(e){const t=e.target.closest(".email-field");if(t){const e=t.querySelector("input"),s=t.querySelector(".email-field__link");if(s){const t=e.value.trim();/(.+)@(.+){2,}\.(.+){2,}/.test(t)?s.href="mailto:"+t:s.removeAttribute("href")}}}Y.observe(".date-field input"),Y.initAll(".date-field input"),document.addEventListener("input",D),document.addEventListener("change",D);var Z=s(3216);function I(e,t){const s=e&&e.querySelectorAll(".view-related, .change-related, .delete-related");s&&s.length&&(t?s.forEach((e=>{e.classList.remove("disabled"),e.href=e.dataset.hrefTemplate.replace("__fk__",t)})):s.forEach((e=>{e.classList.add("disabled"),e.href=""})))}function z(e){return p.showAdminPopup(e,/^(change|add|delete)_/,!0)}function R(e){let t,s;const n=e.location.pathname,o=n.match(/\/([^\/]+)\/([^\/]+)\/add/),i=n.match(/\/([^\/]+)\/([^\/]+)\/[^\/]+\/(?:change|delete)\//);if(o)[t,s]=[o[1],o[2]];else{if(!i)return[];[t,s]=[i[1],i[2]]}const r=`${t}.${s}`;return Array.from(document.querySelectorAll(`[data-model-ref="${r}"] select`))}function N(e,t,s,n){e.options[e.options.length]=new Option(s,t,!!n,!!n),e.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0}))}function F(e,t,s){const n=p.removePopupIndex(e.name),o=document.getElementById(n);o&&("SELECT"===o.tagName?(N(o,t,s,!0),R(e).forEach((e=>{e!==o&&N(e,t,s)}))):"INPUT"===o.tagName&&(o.value=t)),p.removeRelatedWindow(e),e.close()}function M(e,t,s,n){const o=Array.from(e.selectedOptions).some((e=>e.value===t));if(Array.from(e.options).forEach((e=>{e.value===t&&(e.textContent=s,e.value=n)})),e.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0})),o){const t=e.nextElementSibling.querySelector(".select2-selection__rendered");t&&(t.lastChild.textContent=s,t.title=s)}}function B(e,t){Array.from(e.options).forEach((e=>{e.value===t&&e.remove()})),e.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0}))}s.n(Z)().init('.file-field input[type="file"]'),document.addEventListener("change",(e=>{const t=e.target.closest(".file-field");if(t&&"file"===e.target.type){const s=e.target.value.split("\\").pop(),n=t.querySelector(".file-field__field");n&&(s?(n.textContent=s,n.classList.remove("file-field__field--empty")):(n.textContent=n.dataset.initialText,n.classList.add("file-field__field--empty")))}})),document.addEventListener("click",(e=>{const t=e.target.closest(".password-field__button");if(t){const e=t.closest(".password-field");if(e){const t=e.querySelector("input"),s=["text","password"];if(t){const n=(s.indexOf(t.type)+1)%2;t.type=s[n];const o=e.querySelector("i.fa"),i=["fa-eye-slash","fa-eye"];o&&(o.classList.add(i[n]),o.classList.remove(i[(n+1)%2]))}}}})),document.addEventListener("change",(e=>{const t=e.target.closest(".related-widget-wrapper"),s=t&&t.querySelector("select");if(s){const e=$.Event("django:update-related");$(s).trigger(e),e.isDefaultPrevented()||I(t,s.value)}})),document.querySelectorAll(".related-widget-wrapper").forEach((e=>{const t=e.querySelector("select");t&&I(e,t.value)})),window.updateRelatedObjectLinks=e=>{I(e.closest(".related-widget-wrapper"),e.value)},document.addEventListener("click",(e=>{const t=e.target.closest(".related-widget-wrapper__link");if(t){e.preventDefault();const s=$.Event("django:show-related",{href:t.href});$(t).trigger(s),s.isDefaultPrevented()||z(t)}})),window.showRelatedObjectPopup=z,window.dismissAddRelatedObjectPopup=F,window.dismissChangeRelatedObjectPopup=function(e,t,s,n){const o=p.removePopupIndex(e.name),i=document.getElementById(o);i&&"SELECT"===i.tagName&&(M(i,t,s,n),R(e).forEach((e=>{e!==i&&M(e,t,s,n)}))),p.removeRelatedWindow(e),e.close()},window.dismissDeleteRelatedObjectPopup=function(e,t){const s=p.removePopupIndex(e.name),n=document.getElementById(s);n&&("SELECT"===n.tagName?(B(n,t),R(e).forEach((e=>{e!==n&&B(e,t)}))):"INPUT"===n.tagName&&(n.value="")),p.removeRelatedWindow(e),e.close()},window.showAddAnotherPopup=z,window.dismissAddAnotherPopup=F;var H=s(8880);class U extends h.Z{_init(e){(0,H.Z)(e,{hide_empty_groups:!0})}_destroy(e){}}const W=new U;W.observe(".select-multiple-field select"),W.initAll(".select-multiple-field select");var G=s(3682);class K extends h.Z{_init(e){(0,G.Z)(e)}_destroy(e){}}$(document).on("shown.bs.tab",(e=>{const t=e.target.getAttribute("href"),s=t&&document.querySelector(t);s&&G.Z.update(s.querySelectorAll(".text-field textarea"))}));const V=new K;V.observe(".text-field textarea"),V.initAll(".text-field textarea");s(5365);class X extends h.Z{constructor(){super(),document.addEventListener("click",(e=>{const t=e.target.closest(".time-field__button");if(t){const e=t.closest(".time-field"),s=e&&e.querySelector("input");if(s){const e=new Date;s.value=e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0")}}}))}_init(e){$(e).clockpicker({default:"now",autoclose:!0})}_destroy(e){$(e).clockpicker("remove")}}const J=new X;J.observe(".time-field input"),J.initAll(".time-field input");s(1886);document.addEventListener("dragenter",(e=>{const t=e.target.closest(".paper-dropzone");if(t){const e=t.querySelector(".paper-dropzone__overlay");e&&e.classList.add("paper-dropzone__overlay--highlighted")}}),!0),document.addEventListener("dragleave",(e=>{const t=e.target.closest(".paper-dropzone");if(t){const e=t.querySelector(".paper-dropzone__overlay");e&&e.classList.remove("paper-dropzone__overlay--highlighted")}}),!0),document.querySelectorAll(".paper-form--hook").forEach((e=>{!function(e){let t=!1,s=!1;e.addEventListener("submit",(()=>{t=!0}));const n=gettext("You have unsaved changes");function o(){function t(n){e.removeEventListener("input",t),e.removeEventListener("change",t);const o=n.target,i=o.closest(".paper-widget");null===o.closest('[data-hook-unload="prevent"]')&&i&&e.contains(i)&&(s=!0)}window.removeEventListener("load",o),document.removeEventListener("keydown",o),document.removeEventListener("mousedown",o),e.addEventListener("input",t),e.addEventListener("change",t)}window.addEventListener("beforeunload",(e=>{if(!t&&s)return e.preventDefault(),e.returnValue=n,n})),window.addEventListener("load",o),document.addEventListener("keydown",o),document.addEventListener("mousedown",o)}(e)}));var Q=s(9392),ee=s.n(Q),te=s(2696),se=s(980);const ne="hidden.bs.modal",oe="shown.bs.modal",ie="click.destroy..bs.modal",re="keydown.dismiss.bs.modal",ae="autofocus.bs.modal",le="modal-suspended",de="fade",ce="show",ue=[],pe={title:"",body:"",modalClass:"fade",modalDialogClass:"",backdropClass:"paper-modal-backdrop",closeButton:!0,buttons:[],templates:{modal:'<div class="paper-modal modal" tabindex="-1">\n              <div class="modal-dialog">\n                <div class="modal-content">\n                  <div class="modal-header">\n                    <h5 class="modal-title"></h5>\n                  </div>\n                  <div class="modal-body"></div>\n                  <div class="modal-footer"></div>\n                </div>\n              </div>\n            </div>',closeButton:'<button type="button" class="close" aria-label="Close">\n              <span aria-hidden="true">&times;</span>  \n            </button>',button:'<button type="button" class="btn"></button>'},options:{backdrop:"static"},onInit:null,onDestroy:null,onClose:function(){this.destroy()}};class he extends te.Z{constructor(e){let t={...pe,...e};t.templates={...pe.templates,...e.templates||{}},document.body.insertAdjacentHTML("beforeend",t.templates.modal);super(document.body.lastElementChild,t.options),this.config=t,this._content=this._element.querySelector(".modal-content"),this._header=this._element.querySelector(".modal-header"),this._body=this._element.querySelector(".modal-body"),this._footer=this._element.querySelector(".modal-footer"),this.init(),"function"==typeof this.config.onInit&&this.config.onInit.call(this)}static getClosestModal(){return ue[ue.length-1]||null}get suspended(){return this._element.classList.contains(le)}set suspended(e){return this._element.classList.toggle(le,Boolean(e))}init(){if(this.config.modalClass&&this._element.classList.add.apply(this._element.classList,this.config.modalClass.trim().split(/\s+/)),this.config.modalDialogClass&&this._dialog.classList.add.apply(this._dialog.classList,this.config.modalDialogClass.trim().split(/\s+/)),this.config.title&&(this._element.querySelector(".modal-title").innerText=this.config.title),this.config.body&&(this._body.innerHTML=this.config.body),this.config.closeButton){this._header.insertAdjacentHTML("beforeend",this.config.templates.closeButton);const e=this._header.querySelector(".close");e&&e.addEventListener("click",(()=>{"function"==typeof this.config.onClose&&this.config.onClose.call(this)}))}this.config.buttons&&this.config.buttons.length&&this.config.buttons.forEach((e=>{let t;this._footer?(this._footer.insertAdjacentHTML("beforeend",this.config.templates.button),t=this._footer.lastElementChild):(this._body.insertAdjacentHTML("beforeend",this.config.templates.button),t=this._body.lastElementChild),e.label&&(t.innerText=e.label),e.buttonClass&&t.classList.add.apply(t.classList,e.buttonClass.trim().split(/\s+/)),e.autofocus&&$(this._element).one(ae,(()=>{t.focus()})),e.onClick&&"function"==typeof e.onClick&&t.addEventListener("click",(s=>{e.onClick.call(t,s,this)}))}))}dispose(){super.dispose(),this._content=null,this._header=null,this._body=null,this._footer=null}destroy(){const e=()=>{"function"==typeof this.config.onDestroy&&this.config.onDestroy.call(this);const e=ue.indexOf(this);e>=0&&ue.splice(e,1),this._element&&this._element.remove(),this._removeBackdrop(),this.dispose()};return this._isShown?this._isTransitioning?new Promise((t=>{$(this._element).one(oe,(()=>{this._isShown?this.hide().then((()=>{e(),t()})):(e(),t())}))})):new Promise((t=>{this.hide().then((()=>{e(),t()}))})):this._isTransitioning?new Promise((t=>{$(this._element).one(ne,(()=>{e(),t()}))})):(e(),Promise.resolve())}_showBackdrop(e){super._showBackdrop(e),this._isShown&&this._backdrop&&this.config.backdropClass&&this._backdrop.classList.add.apply(this._backdrop.classList,this.config.backdropClass.trim().split(/\s+/))}_setEscapeEvent(){this._isShown?$(this._element).on(re,(e=>{"Escape"===e.code&&(this._config.keyboard?(e.preventDefault(),"function"==typeof this.config.onClose&&this.config.onClose.call(this)):this._triggerBackdropTransition())})):$(this._element).off(re)}_suspend(e){if(e&&e.preventDefault(),$(this._element).trigger("hide.bs.modal"),this._isShown=!1,this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._element.classList.remove(ce),this._backdrop){const e=this._backdrop.classList.contains(de);this._backdrop.classList.remove(de,ce),e&&setTimeout((()=>{this._backdrop.classList.add(de)})),$(this._backdrop).off("bsTransitionEnd")}this.suspended=!0,$(this._element).trigger(ne)}_resume(){if(this.suspended){if($(this._element).trigger("show.bs.modal"),this._isShown=!0,this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._isTransitioning=!1,this._element.classList.add(ce),$(this._element).trigger(oe),this._backdrop){const e=this._backdrop.classList.contains(de);this._backdrop.classList.remove(de),this._backdrop.classList.add(ce),e&&setTimeout((()=>{this._backdrop.classList.add(de)}))}this.suspended=!1}}show(e){if(this._isShown)return Promise.reject("Modal is already open");if(this._isTransitioning)return Promise.reject("Animation in progress");this.suspended=!1,$(this._element).on(ie,'[data-destroy="modal"]',(()=>{this.destroy()}));const t=ue.indexOf(this);t>=0&&ue.splice(t,1);let s=!1;ue.forEach((e=>{e._isShown&&!e.suspended&&(e._suspend(),s=!0)})),ue.push(this);const n=super.show.bind(this);if(s){const t=this._element.classList.contains(de);return this._element.classList.remove(de),super.show(e),t&&this._element.classList.add(de),Promise.resolve()}return new Promise((t=>{$(this._element).one(oe,(()=>t())),n(e)}))}hide(e){if(e&&e.preventDefault(),!this._isShown)return Promise.reject("Modal is already closed");if(this._isTransitioning)return Promise.reject("Animation in progress");this.suspended=!1,$(this._element).off(ie);const t=ue.indexOf(this);t>=0&&ue.splice(t,1);const s=super.hide.bind(this);if(t===ue.length&&t>0){const t=ue[ue.length-1];return t.suspended?(this._removeBackdrop(),this._suspend(e),t._resume(),Promise.resolve()):new Promise((t=>{$(this._element).one(ne,(()=>t())),s(e)}))}return new Promise((t=>{$(this._element).one(ne,(()=>t())),s(e)}))}_showElement(e){const t=$(this._element).hasClass(de),s=this._dialog?this._dialog.querySelector(".modal-body"):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),$(this._dialog).hasClass("modal-dialog-scrollable")&&s?s.scrollTop=0:this._element.scrollTop=0,t&&se.Z.reflow(this._element),$(this._element).addClass(ce),this._config.focus&&this._enforceFocus();const n=$.Event(oe,{relatedTarget:e});$(this._element).trigger($.Event(ae));const o=()=>{this._config.focus&&document.activeElement&&!this._element.contains(document.activeElement)&&this._element.focus(),this._isTransitioning=!1,$(this._element).trigger(n)};if(t){const e=se.Z.getTransitionDurationFromElement(this._dialog);$(this._dialog).one(se.Z.TRANSITION_END,o).emulateTransitionEnd(e)}else o()}}function me(e){return new he(e)}function fe(e){const t={body:'<div class="paper-preloader">\n                  <div class="paper-preloader__text">Loading</div>\n                </div>',modalClass:"paper-modal--preloader fade-in",modalDialogClass:"modal-sm",closeButton:!1,templates:{modal:'<div class="paper-modal modal" tabindex="-1">\n                      <div class="modal-dialog">\n                        <div class="modal-content">\n                          <div class="modal-body"></div>\n                        </div>\n                      </div>\n                    </div>'},onClose:null,...e},s=new he(t);return s.show(),s}const ge={createModal:me,showErrors:function(e,t){let s,n=gettext("Error");if(Array.isArray(e))if(1===e.length)s=e[0];else{n=gettext("Please correct the following errors");const t=['<ul class="px-4 mb-0">'];for(let s=0,n=e.length;s<n;s++)t.push(`<li>${e[s]}</li>`);t.push("</ul>"),s=t.join("\n")}else s=e;const o=me(Object.assign({modalClass:"paper-modal--danger fade",title:n,body:s,buttons:[{autofocus:!0,label:gettext("OK"),buttonClass:"btn-success",onClick:function(e,t){t.destroy()}}]},t));return o.show(),o},showPreloader:fe,showSmartPreloader:function(e,t){const s=Symbol("waiting");return Promise.race([e,new Promise((e=>{setTimeout((()=>{e(s)}),200)}))]).then((n=>{if(n!==s)return n;const o=fe(t);return ee()([e,new Promise((e=>{setTimeout((()=>{e()}),600)}))]).then((e=>{o.destroy();const t=e[0];if("fulfilled"===t.status)return t.value;throw t.reason instanceof Error?t.reason:new Error(t.reason)}))}))}};var _e=ge;class ve extends h.Z{constructor(e){super(),this.opts=Object.assign({openClass:"sidebar-open",shadowClass:"sidebar-shadow",triggerSelector:"[data-toggle='sidebar']"},e),document.addEventListener("click",(e=>{e.target.closest(this.opts.triggerSelector)&&(e.preventDefault(),this.toggle())}))}get hidden(){return!document.documentElement.classList.contains(this.opts.openClass)}show(){if(!this.hidden)return;let e=document.body.querySelector(`.${this.opts.shadowClass}`);e||(e=document.createElement("div"),e.classList.add(this.opts.shadowClass),e.dataset.toggle="sidebar",document.body.appendChild(e)),setTimeout((()=>{document.documentElement.classList.add(this.opts.openClass)}),0)}hide(){this.hidden||document.documentElement.classList.remove(this.opts.openClass)}toggle(){this.hidden?this.show():this.hide()}}const we=new ve;we.observe(".paper-sidebar"),we.initAll(".paper-sidebar"),$(document).on("show.bs.collapse",".paper-sidebar",(e=>{const t=e.target,s=t&&t.closest(".paper-sidebar__item"),n=s&&s.querySelector(":scope > a > .paper-icon-default");n&&(n.classList.remove("fa-folder-o"),n.classList.add("fa-folder-open-o"))})).on("hide.bs.collapse",".paper-sidebar",(e=>{const t=e.target,s=t&&t.closest(".paper-sidebar__item"),n=s&&s.querySelector(":scope > a > .paper-icon-default");n&&(n.classList.remove("fa-folder-open-o"),n.classList.add("fa-folder-o"))}));var ye=s(6358),be=s(9127);ye.p8.registerPlugin(be.L);const Ee=document.querySelector(".paper-widget--invalid, .paper-message--error");if(Ee)!function(e){const t=e.getBoundingClientRect().top,s=.3*document.documentElement.clientHeight;t>s&&t<document.documentElement.clientHeight-s||setTimeout((()=>{ye.p8.to(window,{duration:.5,scrollTo:{y:t-Math.floor(33*document.documentElement.clientHeight/100)}})}))}(Ee);else{const e=location.hash.substr(1).replace(/-panel$/i,"-tab");e&&function(e){const t=document.querySelector(`#${e}`);t&&$(t).tab("show")}(e)}$(document).on("shown.bs.tab",(e=>{const t=e.target.getAttribute("aria-controls");if(t){history.replaceState(null,"",`#${t}`);const s=e.target.closest(".paper-form");if(s){const e=new URL(s.action);e.hash=t,s.action=e.toString()}}}));s(5869),s.p;document.body.classList.contains("change-list")&&Promise.all([s.e(6075),s.e(9434)]).then(s.bind(s,423)),document.body.classList.contains("change-form")&&Promise.all([s.e(6075),s.e(9010)]).then(s.bind(s,3422));new URLSearchParams(window.location.search).has("_popup")&&s.e(7042).then(s.t.bind(s,2284,23)),window.django=window.django||{},window.django.jQuery=jQuery;const Le={bootstrap:n,emitters:i.Z,dragUtils:l,formUtils:d.Z,popupUtils:p,modals:_e,Sortable:o.ZP,Widget:h.Z}},2209:function(e,t,s){"use strict";var n=s(4795),o=s.n(n);const i={dom:new(o()),inlines:new(o())};t.Z=i},4827:function(e,t){"use strict";function s(e){switch(e.type){case"checkbox":case"radio":return e.defaultChecked!==e.checked;case"button":case"image":case"reset":case"submit":return!1;case"select-one":case"select-multiple":return Array.from(e.options).some((e=>e.selected!==e.defaultSelected));default:return e.defaultValue!==e.value}}function n(e,t){if(!e.classList.contains(".paper-widget")&&!(e=e.closest(".paper-widget")))throw new Error("widget not found");const s=e.nextElementSibling;if(!s||!s.classList.contains("paper-error-list"))throw new Error("error list not found");for(;s.firstChild;)s.removeChild(s.lastChild);if("string"==typeof t&&(t=[t]),t&&t.length){e.classList.add("paper-widget--invalid"),t.forEach((e=>{const t=document.createElement("li");t.innerText=e,s.append(t)}));const n=e.closest(".paper-form__row");n&&n.classList.add("paper-form__row--invalid");const o=e.closest(".tab-pane");if(o){const e=o.getAttribute("aria-labelledby"),t=e&&document.getElementById(e);t&&(t.classList.add("btn-outline-danger"),t.classList.remove("btn-outline-primary"))}}else{e.classList.remove("paper-widget--invalid");const t=e.closest(".paper-form__row");t&&t.classList.remove("paper-form__row--invalid");const s=e.closest(".tab-pane");if(s&&!s.querySelectorAll(".paper-widget--invalid").length){const e=s.getAttribute("aria-labelledby"),t=e&&document.getElementById(e);t&&(t.classList.remove("btn-outline-danger"),t.classList.add("btn-outline-primary"))}}}function o(e,t){const s=e.querySelector(".paper-messages");if(!s)throw new Error("error list not found");for(;s.firstChild;)s.removeChild(s.lastChild);"string"==typeof t&&(t=[t]),t&&t.length&&t.forEach((e=>{const t=document.createElement("li");t.classList.add("paper-message","paper-message--error"),t.innerText=e,s.append(t)}))}const i={isChangedField:s,containsChangedField:function(e){const t=e.querySelectorAll("input, select, textarea");return Array.from(t).some(s)},setWidgetErrors:n,setFormErrors:o,cleanAllErrors:function(e){void 0===e&&(e=document.body),o(e,[]),e.querySelectorAll(".paper-widget").forEach((e=>{n(e,[])}))},setErrorsFromJSON:function(e,t){for(const[s,i]of Object.entries(t))if("__all__"===s)o(e,i.map((e=>e.message)));else{const t=e.querySelector(".field-"+s),o=t&&t.querySelector(".paper-widget");o&&n(o,i.map((e=>e.message)))}}};t.Z=i},6410:function(e,t,s){"use strict";function n(){const e=[];let t=document.documentElement.lang;return t&&(t=t.toLowerCase(),e.push(t),t.includes("-")&&(t=t.replace("-","_"),e.push(t)),t.includes("_")&&(t=t.replace(/_.*$/,""),e.push(t))),e.push("en"),e}s.d(t,{Z:function(){return n}})},5932:function(e,t,s){"use strict";var n=s(2209);t.Z=class{constructor(){this._event_handlers={}}addEventHandler(e,t,s){let n;if("function"==typeof t?(s=t,n=e):n=`${e}(${t})`,void 0!==this._event_handlers[n])throw new Error(`Event "${n}" already registered`);return this._event_handlers[n]=s}getEventHandler(e,t){let s;if(s=void 0===t?e:`${e}(${t})`,void 0===this._event_handlers[s])throw new Error(`Event "${t}" is not registered`);return this._event_handlers[s]}_setWidget(e){void 0===e._widgets&&(e._widgets={}),e._widgets[this.constructor.name]=this}getWidget(e){if("object"==typeof e._widgets)return e._widgets[this.constructor.name]}_removeWidget(e){"object"==typeof e._widgets&&delete e._widgets[this.constructor.name]}init(e){this.getWidget(e)?console.debug("The widget is already inialized on this element"):(this._setWidget(e),this._init(e))}_init(e){}destroy(e){this.getWidget(e)&&(this._removeWidget(e),this._destroy(e))}_destroy(e){}initAll(e,t){void 0===t&&(t=document.body);const s=this;t.matches(e)&&s.init(t),t.querySelectorAll(e).forEach((e=>{s.init(e)}))}destroyAll(e,t){void 0===t&&(t=document.body);const s=this;t.matches(e)&&s.destroy(t),t.querySelectorAll(e).forEach((e=>{s.destroy(e)}))}observe(e){const t=this.addEventHandler("dom_mutate",e,(t=>{this.initAll(e,t)}));n.Z.dom.on("mutate",t);const s=this.addEventHandler("dom_release",e,(t=>{this.destroyAll(e,t)}));n.Z.dom.on("release",s)}unobserve(e){n.Z.dom.off("mutate",this.getEventHandler("dom_mutate",e)),n.Z.dom.off("release",this.getEventHandler("dom_release",e))}}},1886:function(){function e(e){const t=e.target.closest(".url-field");if(t){const e=t.querySelector("input"),s=t.querySelector(".url-field__link");if(s){const t=e.value.trim();t?s.href=t:s.removeAttribute("href")}}}document.addEventListener("input",e),document.addEventListener("change",e)},4654:function(){}},function(e){e.O(0,[201,8265,8612,4879,2777,6737,617,9312,6148,9595,4413,9887,9402,2472,2928,9316,6697,7637,1553,7223,6360,3206,2606,9144,9827,3054,1746,267,1404,8101,8170,3891,331,9565,9252,440,6112,1152,6122,5974,606,9357,3603,7861,6200,6075],(function(){return t=1168,e(e.s=t);var t}));var t=e.O(),s=window;for(var n in t)s[n]=t[n];t.__esModule&&Object.defineProperty(s,"__esModule",{value:!0})}]);
//# sourceMappingURL=app.51f86d1df510d167eac8.js.map