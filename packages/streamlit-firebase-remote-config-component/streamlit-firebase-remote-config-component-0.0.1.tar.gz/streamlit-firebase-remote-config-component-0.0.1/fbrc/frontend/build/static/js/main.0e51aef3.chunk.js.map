{"version":3,"sources":["index.tsx"],"names":["remoteParams","fetched","Streamlit","events","addEventListener","RENDER_EVENT","event","firebaseConfig","detail","args","console","log","app","initializeApp","remoteConfig","getRemoteConfig","settings","minimumFetchIntervalMillis","getAnalytics","fetchAndActivate","then","activated","getAll","remoteFlags","JSON","stringify","setComponentValue","catch","error","setComponentReady","setFrameHeight"],"mappings":"iLAAA,2CAMIA,EAAe,GACfC,GAAU,EAiCdC,IAAUC,OAAOC,iBAAiBF,IAAUG,cA/B5C,SAAkBC,GACf,IAAIL,EAAQ,CACX,IACIM,EADUD,EAAkCE,OACtBC,KAAL,OAErBC,QAAQC,IAAIJ,GACZ,IAAMK,EAAMC,YAAcN,GACpBO,EAAeC,YAAgBH,GACrCE,EAAaE,SAASC,2BAA6B,KACjCC,YAAaN,GAE/BF,QAAQC,IAAI,UAAWV,GACvBkB,YAAiBL,GACbM,MAAK,SAAAC,GAEH,OADKA,GAAWX,QAAQC,IAAI,iBACrBW,YAAOR,MAEhBM,MAAK,SAAAG,GACJvB,EAAeuB,EACfb,QAAQC,IAAI,KAAMa,KAAKC,UAAUzB,IACjCC,GAAU,EACVC,IAAUwB,kBAAkB1B,MAG9B2B,OAAM,SAAAC,GAAK,OAAIlB,QAAQkB,MAAMA,UAQpC1B,IAAU2B,oBAEV3B,IAAU4B,mB","file":"static/js/main.0e51aef3.chunk.js","sourcesContent":["import { Streamlit, RenderData } from \"streamlit-component-lib\"\n\nimport { initializeApp } from \"firebase/app\";\nimport { getRemoteConfig, fetchAndActivate, getAll } from \"firebase/remote-config\";\nimport { getAnalytics } from \"firebase/analytics\";\n\nlet remoteParams = {};\nlet fetched = false;\n\nfunction onRender(event: Event): void {\n   if(!fetched){\n    const data = (event as CustomEvent<RenderData>).detail\n    let firebaseConfig = data.args[\"config\"]\n\n    console.log(firebaseConfig);\n    const app = initializeApp(firebaseConfig);\n    const remoteConfig = getRemoteConfig(app);\n    remoteConfig.settings.minimumFetchIntervalMillis = 15000;\n    const analytics = getAnalytics(app);\n  \n    console.log('fetched', fetched);\n    fetchAndActivate(remoteConfig)\n       .then(activated => {\n          if (!activated) console.log('not activated');\n          return getAll(remoteConfig);\n       })\n       .then(remoteFlags => {\n         remoteParams = remoteFlags;\n         console.log(\"rm\", JSON.stringify(remoteParams));\n         fetched = true;\n         Streamlit.setComponentValue(remoteParams);\n\n      })\n      .catch(error => console.error(error));\n    }\n\n\n  //Streamlit.setComponentValue(firebase)\n}\n\nStreamlit.events.addEventListener(Streamlit.RENDER_EVENT, onRender)\nStreamlit.setComponentReady()\n\nStreamlit.setFrameHeight()\n"],"sourceRoot":""}