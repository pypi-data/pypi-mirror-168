"use strict";(self.webpackChunkipydagred3=self.webpackChunkipydagred3||[]).push([[367],{9118:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DagreD3Model=void 0;var i=n(5651),r=n(8657);class s extends i.DOMWidgetModel{static serializers={...i.DOMWidgetModel.serializers};static modelName="DagreD3Model";static modelModule="ipydagred3";static modelModuleVersion=r.MODULE_VERSION;static viewName="DagreD3View";static viewModule="ipydagred3";static viewModuleVersion=r.MODULE_VERSION;defaults(){return{...super.defaults(),_model_name:s.modelName,_model_module:s.modelModule,_model_module_version:s.modelModuleVersion,_view_name:s.viewName,_view_module:s.viewModule,_view_module_version:s.viewModuleVersion}}}t.DagreD3Model=s},8657:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MODULE_VERSION=void 0;const i=n(4147).version;t.MODULE_VERSION=i},553:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DagreD3View=void 0;var i=n(5651),r=n(7705),s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=r?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}(n(1073));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}n(7549);class a extends i.DOMWidgetView{graph;svg;inner;tooltip;renderer;throttle;queued;render(){this.model.on("msg:custom",this._handle_message,this),this.el.classList.add("dagred3"),this.tooltip=document.querySelector("#dagred3tooltip"),this.tooltip||(this.tooltip=document.createElement("div"),this.tooltip.id="dagred3tooltip",this.tooltip.style.visibility="hidden",this.tooltip.style.position="absolute",this.tooltip.style.zIndex="1000",document.body.appendChild(this.tooltip));const e=s.select(this.el);this.svg=e.append("svg"),this.svg.attr("height","600"),this.svg.attr("width","800"),this.inner=this.svg.append("g"),this.inner.attr("height","600"),this.inner.attr("width","800"),this.graph=(new r.graphlib.Graph).setGraph({height:400,width:400}),this.renderer=new r.render,this.displayed.then((()=>{const e=s.zoom().on("zoom",(()=>{this.inner.attr("transform",s.event.transform)}));this.svg.call(e);const t=.75;this.svg.call(e.transform,s.zoomIdentity.translate((parseInt(this.svg.attr("width"),10)-(this.graph.graph().width||0)*t)/2,20).scale(t)),this.svg.attr("height",(this.graph.graph().height||0)*t+40),this.graph_changed()}))}_render(){if(this.throttle)return console.log("[ipydagred3] throttling..."),void(this.queued=!0);this.throttle=1,this.renderer(this.inner,this.graph);const e=s.select("#dagred3tooltip");this.inner.selectAll("g.node").attr("data-tooltip",(e=>this.graph.node(e).tooltip)).on("click",(e=>{this.send({event:"click",value:e})})).on("mouseover",(()=>e.style("visibility","visible"))).on("mousemove",(t=>{e.text(this.graph.node(t).tooltip).style("top",s.event.pageY-10+"px").style("left",`${s.event.pageX+10}px`)})).on("mouseout",(()=>e.style("visibility","hidden"))),this.queued=!1,this.throttle=setTimeout((()=>{this.throttle=void 0,this.queued&&this._render()}),200)}_handle_message(e){if("setNode"===e.type)this.setNode(e.source.name,e.source.attrs);else if("setEdge"===e.type)this.setEdge(e.source.v.name,e.source.w.name,e.source.attrs);else if("graph"===e.type){const t={};t[e.attr]=e.value,this.graph.setGraph(t)}else"node"===e.type?this.setNode(e.source.name,e.source.attrs):"edge"===e.type&&this.setEdge(e.source.v.name,e.source.w.name,e.source.attrs);this._render()}setNode(e,t){this.graph.setNode(e,t)}setEdge(e,t,n){const i=s.select("#dagred3tooltip"),r=document.createElement("u");r.onmouseover=()=>i.style("visibility","visible"),r.onmouseout=()=>i.style("visibility","hidden"),r.onmousemove=e=>i.text(n.tooltip).style("top",e.pageY-10+"px").style("left",`${e.pageX+10}px`),r.onclick=()=>{this.send({event:"click",value:[e,t]})},r.innerHTML=n.label,n.label=r,n.labelType="html",this.graph.setEdge(e,t,n)}graph_changed(){const e=this.model.get("_graph"),t={compound:e.compound,directed:e.directed,multigraph:e.multigraph};this.graph.setGraph(t),e.nodes.forEach((e=>{this.setNode(e.name,e.attrs)})),e.edges.forEach((e=>{this.setEdge(e.v.name,e.w.name,e.attrs)})),this._render()}}t.DagreD3View=a},1367:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DagreD3Model",{enumerable:!0,get:function(){return i.DagreD3Model}}),Object.defineProperty(t,"DagreD3View",{enumerable:!0,get:function(){return r.DagreD3View}}),n(7549);var i=n(9118),r=n(553)},2760:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(8081),r=n.n(i),s=n(3645),o=n.n(s)()(r());o.push([e.id,"div.dagred3 {\n  min-height: 600px;\n  min-width: 800px;\n  /* resize: both; */\n}\n\ndiv.dagred3 svg {\n  height: 600px;\n  width: 800px;\n}\n\n.dagred3 .node rect,\n.dagred3 .node circle,\n.dagred3 .node ellipse,\n.dagred3 .node polygon {\n  stroke: #555;\n  fill: #fff;\n}\n\n.dagred3 .edgePath path {\n  stroke: #555;\n  fill: transparent;\n  stroke-width: 1.5px;\n}\n\n.dagred3 .edgeLabel foreignObject {\n  overflow: visible;\n}\n\n.dagred3 .edgeLabel foreignObject u {\n  text-decoration: none;\n}\n\n.dagred3 .node text {\n  pointer-events: none;\n}\n\n\ndiv#dagred3tooltip {\n  background-color: rgba(255, 255, 255, .8);\n  border: 1px solid #555;\n  padding: 15px;\n}",""]);const a=o},3645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,i,r,s){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(i)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(o[l]=!0)}for(var d=0;d<e.length;d++){var c=[].concat(e[d]);i&&o[c[0]]||(void 0!==s&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=s),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),r&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=r):c[4]="".concat(r)),t.push(c))}},t}},8081:e=>{e.exports=function(e){return e[1]}},7549:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var i=n(3379),r=n.n(i),s=n(7795),o=n.n(s),a=n(569),l=n.n(a),d=n(3565),c=n.n(d),p=n(9216),u=n.n(p),h=n(4589),g=n.n(h),m=n(2760),f={};f.styleTagTransform=g(),f.setAttributes=c(),f.insert=l().bind(null,"head"),f.domAPI=o(),f.insertStyleElement=u(),r()(m.Z,f);const v=m.Z&&m.Z.locals?m.Z.locals:void 0},3379:e=>{var t=[];function n(e){for(var n=-1,i=0;i<t.length;i++)if(t[i].identifier===e){n=i;break}return n}function i(e,i){for(var s={},o=[],a=0;a<e.length;a++){var l=e[a],d=i.base?l[0]+i.base:l[0],c=s[d]||0,p="".concat(d," ").concat(c);s[d]=c+1;var u=n(p),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)t[u].references++,t[u].updater(h);else{var g=r(h,i);i.byIndex=a,t.splice(a,0,{identifier:p,updater:g,references:1})}o.push(p)}return o}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var s=i(e=e||[],r=r||{});return function(e){e=e||[];for(var o=0;o<s.length;o++){var a=n(s[o]);t[a].references--}for(var l=i(e,r),d=0;d<s.length;d++){var c=n(s[d]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}s=l}}},569:e=>{var t={};e.exports=function(e,n){var i=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},9216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,r&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(i,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},4147:e=>{e.exports=JSON.parse('{"name":"ipydagred3","version":"0.3.7","description":"A Custom Jupyter Widget Library","keywords":["jupyter","jupyterlab","jupyterlab-extension","widgets"],"files":["lib/**/*.js","dist/*.js","css/*.css"],"homepage":"https://github.com/timkpaine/ipydagred3","bugs":{"url":"https://github.com/timkpaine/ipydagred3/issues"},"license":"Apache-2.0","author":{"name":"Tim Paine","email":"t.paine154@gmail.com"},"main":"lib/index.js","repository":{"type":"git","url":"https://github.com/timkpaine/ipydagred3"},"scripts":{"build:babel":"babel src/ --source-maps --out-dir lib/","build:labextension":"jupyter labextension build .","build:nbextension":"webpack --mode=production","build":"npm-run-all clean build:*","clean":"npm-run-all clean:*","clean:lib":"rimraf lib","clean:labextension":"rimraf ../ipydagred3/labextension","clean:nbextension":"rimraf ../ipydagred3/nbextension/static/index*.js","fix":"yarn lint --fix","lint":"eslint -c .eslintrc.js --ext .js src/ tests/","prepack":"npm run build","test":"jest --coverage --collectCoverageFrom=src/*.{js}","watch":"npm-run-all -p watch:*","watch:lib":"yarn build:lib --watch","watch:nbextension":"webpack --watch"},"jupyterlab":{"extension":"lib/plugin.js","outputDir":"../ipydagred3/labextension","discovery":{"server":{"base":{"name":"ipydagred3"},"managers":["pip"]}}},"dependencies":{"@jupyter-widgets/base":"^6.0.1","d3":"^5.15.0","dagre-d3":"^0.6.4"},"devDependencies":{"@babel/cli":"^7.18.10","@babel/core":"^7.19.1","@babel/eslint-parser":"^7.19.1","@babel/preset-env":"^7.19.1","@jupyterlab/builder":"^3.4.7","@lumino/application":"^1.29.3","@lumino/widgets":"^1.34.0","babel-jest":"^29.0.3","css-loader":"^6.7.1","eslint":"^8.23.1","eslint-config-airbnb":"^19.0.2","eslint-config-airbnb-base":"^15.0.0","eslint-config-prettier":"^8.5.0","eslint-plugin-import":"^2.24.2","eslint-plugin-jest":"^27.0.4","eslint-plugin-jsdoc":"^39.3.6","eslint-plugin-json":"^3.1.0","eslint-plugin-prefer-arrow":"^1.2.3","eslint-plugin-prettier":"^4.0.0","eslint-plugin-unicorn":"^43.0.2","expect.js":"^0.3.1","fs-extra":"^10.0.1","isomorphic-fetch":"^3.0.0","jest":"^29.0.3","jest-environment-jsdom":"^29.0.3","jest-transform-css":"^5.0.0","mkdirp":"^1.0.4","mocha":"^10.0.0","npm-run-all":"^4.1.3","prettier":"^2.6.2","rimraf":"^3.0.2","source-map-loader":"^4.0.0","style-loader":"^3.2.1","webpack":"^5.74.0","webpack-cli":"^4.8.0"},"resolutions":{"kind-of":"^6.0.3"}}')}}]);